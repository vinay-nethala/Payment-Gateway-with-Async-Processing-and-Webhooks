!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PaymentGateway=t():e.PaymentGateway=t()}(this,()=>(()=>{var e={245(e,t,n){var o;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}e=n.nmd(e),function(i){"use strict";var s=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!t.key)throw new Error("PaymentGateway: API key is required");if(!t.orderId)throw new Error("PaymentGateway: orderId is required");this.config={key:t.key,orderId:t.orderId,checkoutUrl:t.checkoutUrl||"http://localhost:3001",onSuccess:t.onSuccess||function(){},onFailure:t.onFailure||function(){},onClose:t.onClose||function(){}},this.modal=null,this.iframe=null,this.messageHandler=this._handleMessage.bind(this)},t=[{key:"open",value:function(){this.modal?console.warn("PaymentGateway: Modal is already open"):(this._createModal(),this._setupMessageListener())}},{key:"close",value:function(){this.modal&&(document.body.removeChild(this.modal),this.modal=null,this.iframe=null,i.removeEventListener("message",this.messageHandler),this.config.onClose())}},{key:"_createModal",value:function(){var e=this,t=document.createElement("div");t.id="payment-gateway-modal",t.setAttribute("data-test-id","payment-modal"),t.style.cssText="\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0, 0, 0, 0.6);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 999999;\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            ";var n=document.createElement("div");n.className="modal-content",n.style.cssText="\n                position: relative;\n                width: 90%;\n                max-width: 500px;\n                height: 600px;\n                background: white;\n                border-radius: 12px;\n                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n                overflow: hidden;\n                animation: slideUp 0.3s ease-out;\n            ";var o=document.createElement("button");o.setAttribute("data-test-id","close-modal-button"),o.innerHTML="Ã—",o.style.cssText="\n                position: absolute;\n                top: 16px;\n                right: 16px;\n                width: 32px;\n                height: 32px;\n                border: none;\n                background: rgba(0, 0, 0, 0.1);\n                color: #333;\n                font-size: 24px;\n                line-height: 1;\n                border-radius: 50%;\n                cursor: pointer;\n                z-index: 10;\n                transition: background 0.2s;\n            ",o.onmouseover=function(){o.style.background="rgba(0, 0, 0, 0.2)"},o.onmouseout=function(){o.style.background="rgba(0, 0, 0, 0.1)"},o.onclick=function(){return e.close()};var r=document.createElement("iframe");r.setAttribute("data-test-id","payment-iframe");var a="".concat(this.config.checkoutUrl,"?order_id=").concat(this.config.orderId,"&embedded=true&key=").concat(this.config.key);if(r.src=a,r.style.cssText="\n                width: 100%;\n                height: 100%;\n                border: none;\n                display: block;\n            ",r.setAttribute("allow","payment"),n.appendChild(o),n.appendChild(r),t.appendChild(n),!document.getElementById("payment-gateway-styles")){var i=document.createElement("style");i.id="payment-gateway-styles",i.textContent="\n                    @keyframes slideUp {\n                        from {\n                            opacity: 0;\n                            transform: translateY(50px);\n                        }\n                        to {\n                            opacity: 1;\n                            transform: translateY(0);\n                        }\n                    }\n                ",document.head.appendChild(i)}document.body.appendChild(t),this.modal=t,this.iframe=r,t.addEventListener("click",function(n){n.target===t&&e.close()})}},{key:"_setupMessageListener",value:function(){i.addEventListener("message",this.messageHandler)}},{key:"_handleMessage",value:function(e){var t=e.data,n=t.type,o=t.data;switch(n){case"payment_success":this.config.onSuccess(o),this.close();break;case"payment_failed":this.config.onFailure(o);break;case"close_modal":this.close()}}}],t&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();i.PaymentGateway=s,void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o),"object"===r(e)&&e.exports&&(e.exports=s)}("undefined"!=typeof window?window:this)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o=n(245);return o.default})());